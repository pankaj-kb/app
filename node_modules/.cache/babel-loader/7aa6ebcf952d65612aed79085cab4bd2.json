{"ast":null,"code":"import { customRef } from '@vue/reactivity';\nexport function useLocalStorage(key, defaultValue = null) {\n  return customRef((track, trigger) => ({\n    get() {\n      track();\n\n      try {\n        const value = localStorage.getItem(key);\n        if (value) return JSON.parse(value);\n      } catch (error) {\n        if (typeof window !== 'undefined') {\n          console.error(error);\n        }\n      }\n\n      return defaultValue;\n    },\n\n    set(value) {\n      try {\n        if (value === null) {\n          localStorage.removeItem(key);\n        } else {\n          localStorage.setItem(key, JSON.stringify(value));\n        }\n      } catch (error) {\n        if (typeof window !== 'undefined') {\n          console.error(error);\n        }\n      }\n\n      trigger();\n    }\n\n  }));\n}","map":{"version":3,"sources":["../../src/useLocalStorage.ts"],"names":[],"mappings":"AAAA,SAAS,SAAT,QAA+B,iBAA/B;AAEA,OAAM,SAAU,eAAV,CAA6B,GAA7B,EAA0C,YAAA,GAAyB,IAAnE,EAAuE;AACzE,SAAO,SAAS,CAAW,CAAC,KAAD,EAAQ,OAAR,MAAqB;AAC5C,IAAA,GAAG,GAAA;AACC,MAAA,KAAK;;AAEL,UAAI;AACA,cAAM,KAAK,GAAG,YAAY,CAAC,OAAb,CAAqB,GAArB,CAAd;AACA,YAAI,KAAJ,EAAW,OAAO,IAAI,CAAC,KAAL,CAAW,KAAX,CAAP;AACd,OAHD,CAGE,OAAO,KAAP,EAAc;AACZ,YAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,UAAA,OAAO,CAAC,KAAR,CAAc,KAAd;AACH;AACJ;;AAED,aAAO,YAAP;AACH,KAd2C;;AAe5C,IAAA,GAAG,CAAC,KAAD,EAAM;AACL,UAAI;AACA,YAAI,KAAK,KAAK,IAAd,EAAoB;AAChB,UAAA,YAAY,CAAC,UAAb,CAAwB,GAAxB;AACH,SAFD,MAEO;AACH,UAAA,YAAY,CAAC,OAAb,CAAqB,GAArB,EAA0B,IAAI,CAAC,SAAL,CAAe,KAAf,CAA1B;AACH;AACJ,OAND,CAME,OAAO,KAAP,EAAc;AACZ,YAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,UAAA,OAAO,CAAC,KAAR,CAAc,KAAd;AACH;AACJ;;AAED,MAAA,OAAO;AACV;;AA7B2C,GAArB,CAAX,CAAhB;AA+BH","sourceRoot":"","sourcesContent":["import { customRef } from '@vue/reactivity';\nexport function useLocalStorage(key, defaultValue = null) {\n    return customRef((track, trigger) => ({\n        get() {\n            track();\n            try {\n                const value = localStorage.getItem(key);\n                if (value)\n                    return JSON.parse(value);\n            }\n            catch (error) {\n                if (typeof window !== 'undefined') {\n                    console.error(error);\n                }\n            }\n            return defaultValue;\n        },\n        set(value) {\n            try {\n                if (value === null) {\n                    localStorage.removeItem(key);\n                }\n                else {\n                    localStorage.setItem(key, JSON.stringify(value));\n                }\n            }\n            catch (error) {\n                if (typeof window !== 'undefined') {\n                    console.error(error);\n                }\n            }\n            trigger();\n        },\n    }));\n}\n//# sourceMappingURL=useLocalStorage.js.map"]},"metadata":{},"sourceType":"module"}