{"ast":null,"code":"import { unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"border-b px-8 py-4 bg-gray-50\"\n};\nimport { ref, watchEffect } from 'vue';\nimport { fetchTweets, authorFilter } from '@/api';\nimport TweetForm from '@/components/TweetForm';\nimport TweetList from '@/components/TweetList';\nimport { useWorkspace } from '@/composables';\nexport default {\n  setup(__props) {\n    const tweets = ref([]);\n    const loading = ref(true);\n    const workspace = useWorkspace();\n    const {\n      wallet\n    } = workspace;\n    watchEffect(() => {\n      if (!wallet.value) return;\n      fetchTweets(workspace, [authorFilter(wallet.value.publicKey.toBase58())]).then(fetchedTweets => tweets.value = fetchedTweets).finally(() => loading.value = false);\n    });\n\n    const addTweet = tweet => tweets.value.push(tweet);\n\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(_Fragment, null, [_unref(wallet) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _toDisplayString(_unref(wallet).publicKey.toBase58()), 1)) : _createCommentVNode(\"\", true), _createVNode(_unref(TweetForm), {\n        onAdded: addTweet\n      }), _createVNode(_unref(TweetList), {\n        tweets: tweets.value,\n        loading: loading.value\n      }, null, 8, [\"tweets\", \"loading\"])], 64);\n    };\n  }\n\n};","map":{"version":3,"sources":["/home/magma/solana-twitter/app/src/components/PageProfile.vue"],"names":[],"mappings":";;;;;AACA,SAAS,GAAT,EAAc,WAAd,QAAiC,KAAjC;AACA,SAAS,WAAT,EAAsB,YAAtB,QAA0C,OAA1C;AACA,OAAO,SAAP,MAAsB,wBAAtB;AACA,OAAO,SAAP,MAAsB,wBAAtB;AACA,SAAS,YAAT,QAA6B,eAA7B;;;AAEA,UAAM,MAAM,GAAG,GAAG,CAAC,EAAD,CAAlB;AACA,UAAM,OAAO,GAAG,GAAG,CAAC,IAAD,CAAnB;AACA,UAAM,SAAS,GAAG,YAAY,EAA9B;AACA,UAAM;AAAE,MAAA;AAAF,QAAa,SAAnB;AAEA,IAAA,WAAW,CAAC,MAAM;AACd,UAAI,CAAE,MAAM,CAAC,KAAb,EAAoB;AACpB,MAAA,WAAW,CAAC,SAAD,EAAY,CAAC,YAAY,CAAC,MAAM,CAAC,KAAP,CAAa,SAAb,CAAuB,QAAvB,EAAD,CAAb,CAAZ,CAAX,CACK,IADL,CACU,aAAa,IAAI,MAAM,CAAC,KAAP,GAAe,aAD1C,EAEK,OAFL,CAEa,MAAM,OAAO,CAAC,KAAR,GAAgB,KAFnC;AAGH,KALU,CAAX;;AAMA,UAAM,QAAQ,GAAG,KAAK,IAAI,MAAM,CAAC,KAAP,CAAa,IAAb,CAAkB,KAAlB,CAA1B","sourcesContent":["<script setup>\nimport { ref, watchEffect } from 'vue'\nimport { fetchTweets, authorFilter } from '@/api'\nimport TweetForm from '@/components/TweetForm'\nimport TweetList from '@/components/TweetList'\nimport { useWorkspace } from '@/composables'\n\nconst tweets = ref([])\nconst loading = ref(true)\nconst workspace = useWorkspace()\nconst { wallet } = workspace\n\nwatchEffect(() => {\n    if (! wallet.value) return\n    fetchTweets(workspace, [authorFilter(wallet.value.publicKey.toBase58())])\n        .then(fetchedTweets => tweets.value = fetchedTweets)\n        .finally(() => loading.value = false)\n})\nconst addTweet = tweet => tweets.value.push(tweet)\n</script>\n\n<template>\n    <div v-if=\"wallet\" class=\"border-b px-8 py-4 bg-gray-50\">\n        {{ wallet.publicKey.toBase58() }}\n    </div>\n    <tweet-form @added=\"addTweet\"></tweet-form>\n    <tweet-list :tweets=\"tweets\" :loading=\"loading\"></tweet-list>\n</template>"]},"metadata":{},"sourceType":"module"}