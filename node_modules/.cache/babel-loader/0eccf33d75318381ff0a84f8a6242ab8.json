{"ast":null,"code":"import { ref, watchEffect } from 'vue';\nimport { PublicKey } from '@solana/web3.js';\nimport { getTweet } from '@/api';\nimport { useFromRoute } from '@/composables';\nimport TweetCard from '@/components/TweetCard';\nexport default {\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const tweetAddress = ref(null);\n    useFromRoute(route => tweetAddress.value = route.params.tweet);\n    const loading = ref(false);\n    const tweet = ref(null);\n    watchEffect(async () => {\n      try {\n        loading.value = true;\n        tweet.value = await getTweet(new PublicKey(tweetAddress.value));\n      } catch (e) {\n        tweet.value = null;\n      } finally {\n        loading.value = false;\n      }\n    });\n    const __returned__ = {\n      tweetAddress,\n      loading,\n      tweet,\n      ref,\n      watchEffect,\n      PublicKey,\n      getTweet,\n      useFromRoute,\n      TweetCard\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"sources":["/home/magma/solana-twitter/app/src/components/PageTweet.vue"],"names":[],"mappings":"AACA,SAAS,GAAT,EAAc,WAAd,QAAiC,KAAjC;AACA,SAAS,SAAT,QAA0B,iBAA1B;AACA,SAAS,QAAT,QAAyB,OAAzB;AACA,SAAS,YAAT,QAA6B,eAA7B;AACA,OAAO,SAAP,MAAsB,wBAAtB;;;;;;AAEA,UAAM,YAAY,GAAG,GAAG,CAAC,IAAD,CAAxB;AACA,IAAA,YAAY,CAAE,KAAD,IAAW,YAAY,CAAC,KAAb,GAAqB,KAAK,CAAC,MAAN,CAAa,KAA9C,CAAZ;AAEA,UAAM,OAAO,GAAG,GAAG,CAAC,KAAD,CAAnB;AACA,UAAM,KAAK,GAAG,GAAG,CAAC,IAAD,CAAjB;AACA,IAAA,WAAW,CAAC,YAAY;AACpB,UAAI;AACA,QAAA,OAAO,CAAC,KAAR,GAAgB,IAAhB;AACA,QAAA,KAAK,CAAC,KAAN,GAAc,MAAM,QAAQ,CAAC,IAAI,SAAJ,CAAc,YAAY,CAAC,KAA3B,CAAD,CAA5B;AACH,OAHD,CAGE,OAAO,CAAP,EAAU;AACR,QAAA,KAAK,CAAC,KAAN,GAAc,IAAd;AACH,OALD,SAKU;AACN,QAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;AACH;AACJ,KATU,CAAX","sourcesContent":["<script setup>\nimport { ref, watchEffect } from 'vue'\nimport { PublicKey } from '@solana/web3.js'\nimport { getTweet } from '@/api'\nimport { useFromRoute } from '@/composables'\nimport TweetCard from '@/components/TweetCard'\n\nconst tweetAddress = ref(null)\nuseFromRoute((route) => tweetAddress.value = route.params.tweet)\n\nconst loading = ref(false)\nconst tweet = ref(null)\nwatchEffect(async () => {\n    try {\n        loading.value = true\n        tweet.value = await getTweet(new PublicKey(tweetAddress.value))\n    } catch (e) {\n        tweet.value = null\n    } finally {\n        loading.value = false\n    }\n})\n\n</script>\n\n<template>\n    <div v-if=\"loading\" class=\"p-8 text-gray-500 text-center\">\n        Loading...\n    </div>\n    <div v-else-if=\"! tweet\" class=\"p-8 text-gray-500 text-center\">\n        Tweet not found\n    </div>\n    <tweet-card v-else :tweet=\"tweet\"></tweet-card>\n</template>\n"]},"metadata":{},"sourceType":"module"}