{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  class: \"h-5 w-5\",\n  viewBox: \"0 0 20 20\",\n  fill: \"currentColor\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  \"fill-rule\": \"evenodd\",\n  d: \"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H17a1 1 0 110 2h-2.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H3a1 1 0 110-2h2.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.938l1-4H9.031z\",\n  \"clip-rule\": \"evenodd\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"p-8 text-gray-500 text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode($setup[\"TweetSearch\"], {\n    placeholder: \"topic\",\n    disabled: !$setup.slugTopic,\n    modelValue: $setup.slugTopic,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = value => $setup.topic = value),\n    onSearch: $setup.search\n  }, {\n    icon: _withCtx(() => [_hoisted_1]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"disabled\", \"modelValue\"]), $setup.viewedTopic ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode($setup[\"TweetForm\"], {\n    onAdded: $setup.addTweet,\n    \"forced-topic\": $setup.viewedTopic\n  }, null, 8\n  /* PROPS */\n  , [\"forced-topic\"]), _createVNode($setup[\"TweetList\"], {\n    tweets: $setup.tweets,\n    loading: $setup.loading\n  }, null, 8\n  /* PROPS */\n  , [\"tweets\", \"loading\"]), $setup.tweets.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \" No tweets were found in this topic... \")) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"sources":["/home/magma/solana-twitter/app/src/components/PageTopics.vue"],"names":[],"mappings":";;gCAoDY,mBAAA,CAEM,KAFN,EAEM;AAFD,EAAA,KAAK,EAAC,4BAEL;AAFkC,EAAA,KAAK,EAAC,SAExC;AAFkD,EAAA,OAAO,EAAC,WAE1D;AAFsE,EAAA,IAAI,EAAC;AAE3E,CAFN,E,cACI,mBAAA,CAAwW,MAAxW,EAAwW;AAAlW,eAAU,SAAwV;AAA9U,EAAA,CAAC,EAAC,qTAA4U;AAAtB,eAAU;AAAY,CAAxW,C,CADJ,E;;AAAA,C;;;;;;;AAQ4B,EAAA,KAAK,EAAC;;;6DAV1C,YAAA,CAMe,MAAA,CAAA,aAAA,CANf,EAMe;AAND,IAAA,WAAW,EAAC,OAMX;AANoB,IAAA,QAAQ,EAAA,CAAI,MAAA,CAAA,SAMhC;AAN4C,IAAA,UAAU,EAAE,MAAA,CAAA,SAMxD;AANoE,2BAAiB,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAE,KAAK,IAAI,MAAA,CAAA,KAAA,GAAQ,KAAnB,CAMrF;AANgH,IAAA,QAAM,EAAE,MAAA,CAAA;AAMxH,GANf,E;AACe,IAAA,IAAI,EAAA,QAAA,CACX,MAEM,CAFN,UAEM,CAHK,C;;;;GADnB,E;;AAAA,I,0BAAA,C,EAOW,MAAA,CAAA,W,kBAAX,mBAAA,CAMM,KANN,EAMM,UANN,EAMM,CALF,YAAA,CAAuE,MAAA,CAAA,WAAA,CAAvE,EAAuE;AAA1D,IAAA,OAAK,EAAE,MAAA,CAAA,QAAmD;AAAxC,oBAAc,MAAA,CAAA;AAA0B,GAAvE,E,IAAA,E;;AAAA,I,gBAAA,CAKE,EAJF,YAAA,CAA6D,MAAA,CAAA,WAAA,CAA7D,EAA6D;AAAhD,IAAA,MAAM,EAAE,MAAA,CAAA,MAAwC;AAA/B,IAAA,OAAO,EAAE,MAAA,CAAA;AAAsB,GAA7D,E,IAAA,E;;AAAA,I,qBAAA,CAIE,EAHS,MAAA,CAAA,MAAA,CAAO,MAAP,KAAa,C,kBAAxB,mBAAA,CAEM,KAFN,EAAA,UAAA,EAAsE,yCAAtE,C,qCAGE,CANN,C","sourcesContent":["<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { fetchTweets, topicFilter } from '@/api'\nimport { useSlug, useFromRoute, useWorkspace } from '@/composables'\nimport TweetForm from '@/components/TweetForm'\nimport TweetList from '@/components/TweetList'\nimport TweetSearch from '@/components/TweetSearch'\n\n// Data.\nconst router = useRouter()\nconst tweets = ref([])\nconst loading = ref(true)\nconst topic = ref('')\nconst slugTopic = useSlug(topic)\nconst viewedTopic = ref('')\nconst workspace = useWorkspace()\n\n// Actions.\nconst search = () => {\n    router.push(`/topics/${slugTopic.value}`)\n}\n\nconst fetchTopicTweets = async () => {\n    if (slugTopic.value === viewedTopic.value) return\n    try {\n        loading.value = true\n        const fetchedTweets = await fetchTweets(workspace, [topicFilter(slugTopic.value)])\n        tweets.value = fetchedTweets\n        viewedTopic.value = slugTopic.value\n    } finally {\n        loading.value = false\n    }\n}\n\nconst addTweet = tweet => tweets.value.push(tweet)\n\n// Router hooks.\nuseFromRoute((route) => {\n    topic.value = route.params.topic\n    if (topic.value) {\n        fetchTopicTweets()\n    } else {\n        tweets.value = []\n        viewedTopic.value = ''\n    }\n})\n</script>\n\n<template>\n    <tweet-search placeholder=\"topic\" :disabled=\"! slugTopic\" :modelValue=\"slugTopic\" @update:modelValue=\"value => topic = value\" @search=\"search\">\n        <template #icon>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fill-rule=\"evenodd\" d=\"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H17a1 1 0 110 2h-2.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H3a1 1 0 110-2h2.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.938l1-4H9.031z\" clip-rule=\"evenodd\" />\n            </svg>  \n        </template>\n    </tweet-search>\n    <div v-if=\"viewedTopic\">\n        <tweet-form @added=\"addTweet\" :forced-topic=\"viewedTopic\"></tweet-form>\n        <tweet-list :tweets=\"tweets\" :loading=\"loading\"></tweet-list>\n        <div v-if=\"tweets.length === 0\" class=\"p-8 text-gray-500 text-center\">\n            No tweets were found in this topic...\n        </div>\n    </div>\n</template>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}