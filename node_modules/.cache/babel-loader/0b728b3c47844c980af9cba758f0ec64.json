{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"px-8 py-4 border-b\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-wrap items-center justify-between -m-2\"\n};\nconst _hoisted_3 = {\n  class: \"relative m-2 mr-4\"\n};\nconst _hoisted_4 = [\"value\", \"disabled\"];\nconst _hoisted_5 = {\n  class: \"absolute left-0 inset-y-0 flex pl-3 pr-2\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"path\", {\n  \"fill-rule\": \"evenodd\",\n  d: \"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H17a1 1 0 110 2h-2.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H3a1 1 0 110-2h2.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.938l1-4H9.031z\",\n  \"clip-rule\": \"evenodd\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = [_hoisted_6];\nconst _hoisted_8 = {\n  class: \"flex items-center space-x-6 m-2 ml-auto\"\n};\nconst _hoisted_9 = [\"disabled\"];\nconst _hoisted_10 = {\n  key: 1,\n  class: \"px-8 py-4 bg-gray-50 text-gray-500 text-center border-b\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $setup.connected ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Content field. \"), _withDirectives(_createElementVNode(\"textarea\", {\n    ref: \"textarea\",\n    rows: \"1\",\n    class: \"text-xl w-full focus:outline-none resize-none mb-3\",\n    placeholder: \"What's happening?\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.content = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.content]]), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Topic field. \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"topic\",\n    class: \"text-pink-500 rounded-full pl-10 pr-4 py-2 bg-gray-100\",\n    value: $setup.effectiveTopic,\n    disabled: $setup.forcedTopic,\n    onInput: _cache[1] || (_cache[1] = $event => $setup.topic = $event.target.value)\n  }, null, 40\n  /* PROPS, HYDRATE_EVENTS */\n  , _hoisted_4), _createElementVNode(\"div\", _hoisted_5, [(_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    class: _normalizeClass([\"h-5 w-5 m-auto\", $setup.effectiveTopic ? 'text-pink-500' : 'text-gray-400']),\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, _hoisted_7, 2\n  /* CLASS */\n  ))])]), _createElementVNode(\"div\", _hoisted_8, [_createCommentVNode(\" Character limit. \"), _createElementVNode(\"div\", {\n    class: _normalizeClass($setup.characterLimitColour)\n  }, _toDisplayString($setup.characterLimit) + \" left \", 3\n  /* TEXT, CLASS */\n  ), _createCommentVNode(\" Tweet button. \"), _createElementVNode(\"button\", {\n    class: _normalizeClass([\"text-white px-4 py-2 rounded-full font-semibold\", $setup.canTweet ? 'bg-pink-500' : 'bg-pink-300 cursor-not-allowed']),\n    disabled: !$setup.canTweet,\n    onClick: $setup.send\n  }, \" Tweet \", 10\n  /* CLASS, PROPS */\n  , _hoisted_9)])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \" Connect your wallet to start tweeting... \"));\n}","map":{"version":3,"sources":["/home/magma/solana-twitter/app/src/components/TweetForm.vue"],"names":[],"mappings":";;;AA+C0B,EAAA,KAAK,EAAC;;;AAWnB,EAAA,KAAK,EAAC;;;AAGF,EAAA,KAAK,EAAC;;;;AASF,EAAA,KAAK,EAAC;;;gCAEH,mBAAA,CAAwW,MAAxW,EAAwW;AAAlW,eAAU,SAAwV;AAA9U,EAAA,CAAC,EAAC,qTAA4U;AAAtB,eAAU;AAAY,CAAxW,E,IAAA,E;;AAAA,C;;oBAAA,U;;AAIP,EAAA,KAAK,EAAC;;;;;AAmBP,EAAA,KAAK,EAAC;;;SAhDP,MAAA,CAAA,S,kBAAX,mBAAA,CA8CM,KA9CN,EAAA,UAAA,EA8CM,CA5CF,mBAAA,CAAA,kBAAA,CA4CE,E,gBA3CF,mBAAA,CAMY,UANZ,EAMY;AALR,IAAA,GAAG,EAAC,UAKI;AAJR,IAAA,IAAI,EAAC,GAIG;AAHR,IAAA,KAAK,EAAC,oDAGE;AAFR,IAAA,WAAW,EAAC,mBAEJ;+DADC,MAAA,CAAA,O,GAAO,M;AACR,GANZ,E,IAAA,E;;AAAA,G,iBAKa,MAAA,CAAA,O,GAsCX,EAnCF,mBAAA,CAkCM,KAlCN,EAAA,UAAA,EAkCM,CAhCF,mBAAA,CAAA,gBAAA,CAgCE,EA/BF,mBAAA,CAcM,KAdN,EAAA,UAAA,EAcM,CAbF,mBAAA,CAOC,OAPD,EAOC;AANG,IAAA,IAAI,EAAC,MAMR;AALG,IAAA,WAAW,EAAC,OAKf;AAJG,IAAA,KAAK,EAAC,wDAIT;AAHI,IAAA,KAAK,EAAE,MAAA,CAAA,cAGX;AAFI,IAAA,QAAQ,EAAE,MAAA,CAAA,WAEd;AADI,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,MAAA,IAAE,MAAA,CAAA,KAAA,GAAQ,MAAM,CAAC,MAAP,CAAc,KAAxB;AACT,GAPD,E,IAAA,E;;AAAA,I,UAAA,CAaE,EALF,mBAAA,CAIM,KAJN,EAAA,UAAA,EAIM,E,cAHF,mBAAA,CAEM,KAFN,EAEM;AAFD,IAAA,KAAK,EAAC,4BAEL;AAFkC,IAAA,KAAK,EAAA,eAAA,CAAA,CAAC,gBAAD,EAA0B,MAAA,CAAA,cAAA,GAAc,eAAd,GAAc,eAAxC,CAAA,CAEvC;AAFqH,IAAA,OAAO,EAAC,WAE7H;AAFyI,IAAA,IAAI,EAAC;AAE9I,GAFN,E,UAAA,E;;AAAA,GAGE,EAJN,CAKE,CAdN,CA+BE,EAhBF,mBAAA,CAeM,KAfN,EAAA,UAAA,EAeM,CAbF,mBAAA,CAAA,oBAAA,CAaE,EAZF,mBAAA,CAEM,KAFN,EAEM;AAFA,IAAA,KAAK,EAAA,eAAA,CAAE,MAAA,CAAA,oBAAF;AAEL,GAFN,E,iBACO,MAAA,CAAA,c,IAAiB,QADxB,EAEA;AAAA;AAFA,GAYE,EARF,mBAAA,CAAA,iBAAA,CAQE,EAPF,mBAAA,CAMS,QANT,EAMS;AALL,IAAA,KAAK,EAAA,eAAA,CAAA,CAAC,iDAAD,EACG,MAAA,CAAA,QAAA,GAAQ,aAAR,GAAQ,gCADX,CAAA,CAKA;AALoD,IAAA,QAAQ,EAAA,CAAI,MAAA,CAAA,QAKhE;AAHJ,IAAA,OAAK,EAAE,MAAA,CAAA;AAGH,GANT,EAIC,SAJD,EAMA;AAAA;AANA,IAMA,UANA,CAOE,CAfN,CAgBE,CAlCN,CAmCE,CA9CN,C,mBAgDA,mBAAA,CAEM,KAFN,EAAA,WAAA,EAA4E,4CAA5E,C","sourcesContent":["<script setup>\nimport { computed, ref, toRefs } from 'vue'\nimport { useAutoresizeTextarea, useCountCharacterLimit, useSlug } from '@/composables'\nimport { sendTweet } from '@/api'\nimport { useWallet } from '@solana/wallet-adapter-vue'\n\n\n// Props.\nconst props = defineProps({\n    forcedTopic: String,\n})\nconst { forcedTopic } = toRefs(props)\n\n// Form data.\nconst content = ref('')\nconst topic = ref('')\nconst slugTopic = useSlug(topic)\nconst effectiveTopic = computed(() => forcedTopic.value ?? slugTopic.value)\n\n// Auto-resize the content's textarea.\nconst textarea = ref()\nuseAutoresizeTextarea(textarea)\n\n// Character limit / count-down.\nconst characterLimit = useCountCharacterLimit(content, 280)\nconst characterLimitColour = computed(() => {\n    if (characterLimit.value < 0) return 'text-red-500'\n    if (characterLimit.value <= 10) return 'text-yellow-500'\n    return 'text-gray-400'\n})\n\n// Permissions.\nconst connected = ref(true) // TODO: Check connected wallet.\nconst canTweet = computed(() => content.value && characterLimit.value > 0)\n\n// Actions.\nconst emit = defineEmits(['added'])\nconst send = async () => {\n    if (! canTweet.value) return\n    const tweet = await sendTweet(effectiveTopic.value, content.value)\n    emit('added', tweet)\n    topic.value = ''\n    content.value = ''\n}\n</script>\n\n<template>\n    <div v-if=\"connected\" class=\"px-8 py-4 border-b\">\n\n        <!-- Content field. -->\n        <textarea\n            ref=\"textarea\"\n            rows=\"1\"\n            class=\"text-xl w-full focus:outline-none resize-none mb-3\"\n            placeholder=\"What's happening?\"\n            v-model=\"content\"\n        ></textarea>\n\n        <div class=\"flex flex-wrap items-center justify-between -m-2\">\n\n            <!-- Topic field. -->\n            <div class=\"relative m-2 mr-4\">\n                <input\n                    type=\"text\"\n                    placeholder=\"topic\"\n                    class=\"text-pink-500 rounded-full pl-10 pr-4 py-2 bg-gray-100\"\n                    :value=\"effectiveTopic\"\n                    :disabled=\"forcedTopic\"\n                    @input=\"topic = $event.target.value\"\n                >\n                <div class=\"absolute left-0 inset-y-0 flex pl-3 pr-2\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 m-auto\" :class=\"effectiveTopic ? 'text-pink-500' : 'text-gray-400'\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                        <path fill-rule=\"evenodd\" d=\"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H17a1 1 0 110 2h-2.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H3a1 1 0 110-2h2.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.938l1-4H9.031z\" clip-rule=\"evenodd\" />\n                    </svg>\n                </div>\n            </div>\n            <div class=\"flex items-center space-x-6 m-2 ml-auto\">\n\n                <!-- Character limit. -->\n                <div :class=\"characterLimitColour\">\n                    {{ characterLimit }} left\n                </div>\n\n                <!-- Tweet button. -->\n                <button\n                    class=\"text-white px-4 py-2 rounded-full font-semibold\" :disabled=\"! canTweet\"\n                    :class=\"canTweet ? 'bg-pink-500' : 'bg-pink-300 cursor-not-allowed'\"\n                    @click=\"send\"\n                >\n                    Tweet\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <div v-else class=\"px-8 py-4 bg-gray-50 text-gray-500 text-center border-b\">\n        Connect your wallet to start tweeting...\n    </div>\n</template>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}